<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="generator" content="pandoc" />



<title>R Code Chunks</title>

<script src="libs/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="libs/bootstrap-2.3.2/css/united.min.css" rel="stylesheet" />
<link href="libs/bootstrap-2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
<script src="libs/bootstrap-2.3.2/js/bootstrap.min.js"></script>

<style type="text/css">

/* padding for bootstrap navbar */
body {
  padding-top: 50px;
  padding-bottom: 40px;
}
@media (max-width: 979px) {
  body {
    padding-top: 0;
  }
}

/* offset scroll position for anchor links (for fixed navbar)  */
@media (min-width: 980px) {
  .section h2 {
    padding-top: 52px;
    margin-top: -52px;
  }
  .section h3 {
    padding-top: 52px;
    margin-top: -52px;
  }
}


/* don't use link color in navbar */
.dropdown-menu>li>a {
  color: black;
}

/* some padding for disqus */
#disqus_thread {
  margin-top: 45px;
}

</style>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/textmate.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
</style>
<div class="container-fluid main-container">


<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="brand" href="index.html">R Markdown v2</a>
      <div class="nav-collapse collapse">
        <ul class="nav">
          <li><a href="index.html">Home</a></li>
          <li class="dropdown">
            <a href="authoring" class="dropdown-toggle" data-toggle="dropdown">Authoring <b class="caret"></b></a>
            <ul class="dropdown-menu">
               <li class="nav-header">R Markdown</li>
               <li><a href="authoring_basics.html">Markdown Basics</a></li>
               <li><a href="authoring_pandoc_markdown.html">Pandoc Markdown</a></li>
               <li><a href="authoring_rcodechunks.html">R Code Chunks</a></li>
               <li><a href="authoring_migrating_from_v1.html">Migrating from v1</a></li>
               <li class="divider"></li>
               <li class="nav-header">Shiny Docs</li>
               <li><a href="authoring_shiny.html">Interactive Documents</a></li>
               <li><a href="authoring_embedded_shiny.html">Embedded Shiny Apps</a></li>
               <li><a href="authoring_shiny_widgets.html">Creating Shiny Widgets</a></li>
               <li><a href="authoring_shiny_advanced.html">Advanced Topics</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a href="formats" class="dropdown-toggle" data-toggle="dropdown">Formats <b class="caret"></b></a>
            <ul class="dropdown-menu">
               <li class="nav-header">Documents</li>
               <li><a href="html_document_format.html">HTML</a></li>
               <li><a href="pdf_document_format.html">PDF</a></li>
               <li><a href="word_document_format.html">Word</a></li>
               <li><a href="markdown_document_format.html">Markdown</a></li>
               <li class="divider"></li>
               <li class="nav-header">Presentations</li>
               <li><a href="ioslides_presentation_format.html">ioslides</a></li>
               <li><a href="revealjs_presentation_format.html">reveal.js</a></li>
               <li><a href="beamer_presentation_format.html">Beamer</a></li>
               <li class="divider"></li>
               <li><a href="r_notebook_format.html">R Notebooks</a></li>
            </ul>
          </li>
           <li class="dropdown">
            <a href="developer" class="dropdown-toggle" data-toggle="dropdown">Developer <b class="caret"></b></a>
            <ul class="dropdown-menu">
               <li><a href="developer_document_templates.html">Document Templates</a></li>
               <li><a href="developer_custom_formats.html">Creating New Formats</a></li>
               <li class="divider"></li>
               <li><a href="https://github.com/rstudio/rmarkdown">R Markdown on GitHub</a></li>
            </ul>
          </li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </div>
</div>

<div id="header">
<h1 class="title">R Code Chunks</h1>
</div>


<div id="basic-usage" class="section level2">
<h2>Basic Usage</h2>
<p>R code chunks can be used as a means render R output into documents or to simply display code for illustration. Here is a simple R code chunk that will result in both the code and it’s output being included:</p>
<pre class="markdown"><code>&#96;&#96;&#96;{r}
summary(cars)
&#96;&#96;&#96;
</code></pre>

<p>To display the output of a code chunk but not the underlying R code, you specify the <code>echo=FALSE</code> option:</p>
<pre class="markdown"><code>&#96;&#96;&#96;{r, echo=FALSE}
summary(cars)
&#96;&#96;&#96;
</code></pre>

<p>Note that R code chunks can also be used to render plots. To display a plot while omitting the code used to generate the plot you’d do this:</p>
<pre class="markdown"><code>&#96;&#96;&#96;{r, echo=FALSE}
plot(cars)
&#96;&#96;&#96;
</code></pre>

<p>To display R code without evaluating it, you specify the <code>eval=FALSE</code> chunk option:</p>
<pre class="markdown"><code>&#96;&#96;&#96;{r, eval=FALSE}
summary(cars)
&#96;&#96;&#96;
</code></pre>

</div>
<div id="table-output" class="section level2">
<h2>Table Output</h2>
<p>By default data frames and matrixes are output as they would be in the R terminal (in a monospaced font). However, if you prefer that data be displayed with additional formatting you can use the <code>knitr::kable</code> function. For example:</p>
<pre class="markdown"><code>&#96;&#96;&#96;{r, results='asis'}
knitr::kable(mtcars)
&#96;&#96;&#96;
</code></pre>

<p>Note the use of the <code>results='asis'</code> chunk option. This is required to ensure that the raw table output isn’t processed furthur by knitr. The <code>kable</code> function includes several options to control the maximum number of digits for numeric columns, alignment, etc (refer to the knitr package documentation for additional details).</p>
</div>
<div id="caching" class="section level2">
<h2>Caching</h2>
<p>If document rendering becomes time consuming due to long computations or plots that are expensive to generate you can use knitr caching to improve performance. The documentation <a href="http://yihui.name/knitr/options">knitr chunk and package options</a> describe how caching works and the <a href="http://yihui.name/knitr/demo/cache/">cache examples</a> provide additional details.</p>
<p>If you want to enable caching globally for a document you can include a code chunk like this at the top of the document:</p>
<pre class="markdown"><code>&#96;&#96;&#96;{r setup, include=FALSE}
knitr::opts_chunk$set(cache=TRUE)
&#96;&#96;&#96;
</code></pre>

<p>If you run into problems with cached output you can always clear the knitr cache by removing the folder named with a <code>_cache</code> suffix within your document’s directory.</p>
</div>
<div id="rcpp-code-chunks" class="section level2">
<h2>Rcpp Code Chunks</h2>
<p>You can also create code chunks that define functions in C++ using <a href="http://cran.rstudio.com/web/packages/Rcpp/vignettes/Rcpp-attributes.pdf">Rcpp Attributes</a>. This is accomplished using the <code>engine = 'Rcpp'</code> chunk option. For example:</p>
<pre class="cpp"><code>&#96;&#96;&#96;{r engine='Rcpp'}
#include &lt;Rcpp.h&gt;

// [[Rcpp::export]]
int fibonacci(const int x) {
    if (x == 0 || x == 1) return(x);
    return (fibonacci(x - 1)) + fibonacci(x - 2);
}
&#96;&#96;&#96;
</code></pre>

<p>Because <code>fibonacci</code> was defined with the <code>Rcpp::export</code> attribute it can now be called as a normal R function:</p>
<pre class="markdown"><code>&#96;&#96;&#96;{r}
fibonacci(10L)
fibonacci(20L)
&#96;&#96;&#96;
</code></pre>

<p>Note that caching should not be used with Rcpp code chunks (since the compiled C++ function will not survive past the lifetime of the current R session).</p>
</div>
<div id="learning-more" class="section level2">
<h2>Learning More</h2>
<p>The knitr package is an extremely powerful tool for dynamic content generation and is worth studying in detail to understand all of it’s features and capabilities. Good resources for learning more about knitr include:</p>
<ul>
<li>The <a href="http://yihui.name/knitr/">knitr website</a></li>
<li>The <a href="http://bit.ly/117OLVl">knitr manual</a> and <a href="http://bit.ly/114GNdP">knitr graphics manual</a></li>
<li>The galleries of <a href="http://yihui.name/knitr/demos">demos</a> and <a href="https://github.com/yihui/knitr-examples">examples</a></li>
<li>The book <a href="http://www.amazon.com/dp/1482203537/ref=cm_sw_su_dp">Dynamic Documents with R and knitr</a> (written by the creator of knitr, <a href="http://yihui.name">Yihui Xie</a>)</li>
</ul>
</div>


<!-- some extra javascript for older browsers -->
<script type="text/javascript" src="libs/polyfill.js"></script>

<script>

// manage active state of menu based on current page
$(document).ready(function () {

    // active menu
    href = window.location.pathname
    href = href.substr(href.lastIndexOf('/') + 1)
    $('a[href="' + href + '"]').parent().addClass('active');

    // manage active menu header
    if (href.startsWith('authoring_'))
      $('a[href="' + 'authoring' + '"]').parent().addClass('active');
    else if (href.endsWith('_format.html'))
      $('a[href="' + 'formats' + '"]').parent().addClass('active');
    else if (href.startsWith('developer_'))
      $('a[href="' + 'developer' + '"]').parent().addClass('active');

});

</script>

<!-- disqus -->
  <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'rmarkdown'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
